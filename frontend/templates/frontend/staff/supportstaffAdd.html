{% extends 'frontend/base.html' %}
{% block  title %} Students Add {% endblock title %}
{% block  pagetitle %} Students Add {% endblock pagetitle %}

{% block  main %} 

<!-- Success message after data has been sent  -->
{% if messages %}
  <ul class="messages ">
    {% for message in messages %}
      <li{% if message.tags %} class="{{ message.tags }}"{% endif %}>{{ message }}</li>
    {% endfor %}
  </ul>
{% endif %}

<!-- inner-content -->
<div class="inner-content">
    <a href="/support-staff-list" class="btn btn-sm add-btn text-white mb-2 ml-3">View Support staff</a>
    <a href="" class="btn btn-sm bg-success text-white mb-2 ml-2 ">Import excel</a>

    <!-- form-section -->
    <form method='POST', action="submit/" class="form ml-3 p-3 shadow rounded bg-light">
        {%csrf_token %}
        <div class="title">
            <h5 class="text-uppercase text-center">Add Support Staff</h5>
            <hr>
        </div>

        <!-- student info section -->
        <div class="stud-info">
            <!-- <div class="sub-heading">
                <h5>Support Staff Information</h5>
            </div> -->
            <div class="row">
                <!-- name -->
                <div class="form-group col-md-6">
                    <label for="">Fullname: </label>
                    <input type="text" name="fullname" class="form-control" required>
                </div>
                <!-- staff contact -->
                <div class="form-group col-md-6">
                    <label for="">Phone contact: </label>
                    <input type="text" name="contact" id ="contact" class="form-control" pattern ="0\d{9}" required>
                </div>
            </div>
            <div class="row">
                <!-- email -->
                <div class="form-group col-md-6">
                    <label for="">Email: </label>
                    <input type="email" name="email" class="form-control" required>
                </div>
                <!-- Address -->
                <div class="form-group col-md-6">
                    <label for="">Address: </label>
                    <input type="text" name="address" class="form-control" required>
                </div>
            </div>
            <div class="row">
                <!-- gender -->
                <div class="form-group col-md-6">
                    <label for="">Gender: </label>
                    <select name="gender" id="" class="form-control pr-2" required>
                        <option value="">Select</option>
                        <option value="m">Male</option>
                        <option value="f ">Female</option>
                    </select>
                </div>
                <!-- date of birth -->
                <div class="form-group col-md-6">
                    <label for="">Date Of Birth </label>
                    <input type="date" name="dob" class="form-control" required>
                </div>

            </div>
            <div class="row">
                <!-- qualification -->
                <div class="form-group col-md-6">
                    <label for="">Qualifications: </label>
                    <input type="text" name="qualification" id="" class="form-control pr-2">
                </div>
                <!-- position -->
                <div class="form-group col-md-6">
                    <label for="">Position </label>
                    <input type="text" name="position" class="form-control">
                </div>

            </div>
        </div>
        
        <!-- student info section -->

        

        <!-- button -->
        <div class="form-group">
            <button type="submit" class="btn btn-sm bg-dark text-white w-25">SUBMIT</button>
        </div>
        

        
    </form>
    <!-- form-section -->
    <!-- check the validity of a phone number -->
    <script>
        // Add event listener for input field to validate the phone number format
        const contactInput = document.getElementById('contact');
        contactInput.addEventListener('input', function () {
            const contactValue = this.value;
            const isValid = /^0\d{9}$/.test(contactValue);
            this.setCustomValidity(isValid ? '' : 'Please enter a 10-digit number starting with 0.');
        });
        // Add event listener to limit the input to 10 characters
        contactInput.addEventListener('input', function () {
            if (this.value.length > 10) {
                this.value = this.value.slice(0, 10);
            }
        });
    </script>

</div>
<!-- inner-content -->

{% endblock main %}